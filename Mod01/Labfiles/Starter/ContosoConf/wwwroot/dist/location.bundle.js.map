{"version":3,"file":"location.bundle.js","mappings":"mBAEA,SAASA,EAAQC,GACb,OAAOA,EAAUC,KAAKC,GAAK,GAC/B,CCFA,IAAMC,EAAqB,CACvBC,SAAU,QACVC,UAAW,UAKTC,EAAkBC,SAASC,eAAe,YAC1CC,EAAgBF,SAASG,cAAc,kBACvCC,EAAeJ,SAASG,cAAc,iBA4B5CE,UAAUC,YAAYC,mBAbtB,SAA6BC,GACzB,IAd4BC,EActBC,GAdsBD,EAcYD,EAASC,OAb1Cf,KAAKiB,MDRT,SAAyBC,EAAIC,GAChC,IAAIC,EAAOF,EAAGf,SACRkB,EAAOH,EAAGd,UACZkB,EAAOH,EAAGhB,SACRoB,EAAOJ,EAAGf,UAEVoB,EAAO1B,EAAQwB,EAAOF,GACtBK,EAAO3B,EAAQyB,EAAOF,GAC5BD,EAAOtB,EAAQsB,GACfE,EAAOxB,EAAQwB,GAEf,IAAMI,EAAI1B,KAAK2B,IAAIH,EAAO,GAAKxB,KAAK2B,IAAIH,EAAO,GAAKxB,KAAK2B,IAAIF,EAAO,GAAKzB,KAAK2B,IAAIF,EAAO,GAAKzB,KAAK4B,IAAIR,GAAQpB,KAAK4B,IAAIN,GAGxH,OAFU,EAAItB,KAAK6B,MAAM7B,KAAK8B,KAAKJ,GAAI1B,KAAK8B,KAAK,EAAIJ,IAlB5B,SAqB7B,CCPsBK,CAAgBhB,EAAQb,MAG9C,SAA6Bc,GACzB,IAAMgB,EAAU,WAAahB,EAAW,6BACxCX,EAAgB4B,YAAcD,CAClC,CAQIE,CAAoBlB,GACOA,EAtByB,IAgBpDR,EAAc2B,WAAWC,aAAa1B,EAAcF,EAUxD,EAEA,WACIH,EAAgB4B,YAAc,yCAClC,E","sources":["webpack://asp.net/./wwwroot/scripts/geometry.js","webpack://asp.net/./wwwroot/scripts/pages/location.js"],"sourcesContent":["const radiusOfEarthInMiles = 3963.1676;\r\n\r\nfunction radians(degrees) {\r\n    return degrees * Math.PI / 180;\r\n};\r\n\r\nexport function distanceInMiles(p1, p2) {\r\n    let lat1 = p1.latitude; // inputs are in decimal degrees\r\n    const lon1 = p1.longitude;\r\n    let lat2 = p2.latitude;\r\n    const lon2 = p2.longitude;\r\n\r\n    const dLat = radians(lat2 - lat1);\r\n    const dLon = radians(lon2 - lon1);\r\n    lat1 = radians(lat1);\r\n    lat2 = radians(lat2);\r\n\r\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n    return radiusOfEarthInMiles * c;\r\n};\r\n\r\n\r\n","import { distanceInMiles } from \"../geometry.js\";\r\n\r\nconst conferenceLocation = {\r\n    latitude: 47.6097,  // decimal degrees\r\n    longitude: 122.3331 // decimal degrees\r\n};\r\n\r\nconst maximumDistanceInMilesFromConferenceToShowVenue = 10;\r\n\r\nconst distanceElement = document.getElementById(\"distance\");\r\nconst travelSection = document.querySelector(\"section.travel\");\r\nconst venueSection = document.querySelector(\"section.venue\");\r\n\r\nfunction distanceFromConference(coords) {\r\n    return Math.floor(distanceInMiles(coords, conferenceLocation));\r\n};\r\n\r\nfunction showDistanceMessage(distance) {\r\n    const message = \"You are \" + distance + \" miles from the conference\";\r\n    distanceElement.textContent = message;\r\n};\r\n\r\nfunction moveVenueSectionToTop() {\r\n    travelSection.parentNode.insertBefore(venueSection, travelSection);\r\n};\r\n\r\nfunction updateUIForPosition(position) {\r\n    const distance = distanceFromConference(position.coords);\r\n    showDistanceMessage(distance);\r\n    const isNearToConference = distance < maximumDistanceInMilesFromConferenceToShowVenue;\r\n    if (isNearToConference) {\r\n        moveVenueSectionToTop();\r\n    }\r\n};\r\n\r\nfunction error() {\r\n    distanceElement.textContent = \"Could not detect your current location.\";\r\n};\r\n\r\nnavigator.geolocation.getCurrentPosition(updateUIForPosition, error);\r\n\r\n\r\n"],"names":["radians","degrees","Math","PI","conferenceLocation","latitude","longitude","distanceElement","document","getElementById","travelSection","querySelector","venueSection","navigator","geolocation","getCurrentPosition","position","coords","distance","floor","p1","p2","lat1","lon1","lat2","lon2","dLat","dLon","a","sin","cos","atan2","sqrt","distanceInMiles","message","textContent","showDistanceMessage","parentNode","insertBefore"],"ignoreList":[],"sourceRoot":""}